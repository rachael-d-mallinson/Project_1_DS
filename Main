import java.util.Scanner;

public class Main {
	public static void main (String[] args) {
		Scanner scnr = new Scanner(System.in);
		
		//Make a user-friendly menu
		String UserMenuPrompt = "Polynomial Calculator\nPlease Choose your Menu Option by choosing a Number to enter.";
		String UserMenuOptions = " 1. Enter Two Polynomials to Add \n 2. Add the entered Polynomials\n 3. Quit\nEnter here:";
		boolean systemRunning = true;
		
		while (systemRunning) {
			System.out.println(UserMenuPrompt);		//title, and menu instructions
			System.out.print(UserMenuOptions);		//menu options
			int userChoice = scnr.nextInt();		//read in their choice
			String firstPoly;						//the first polynomial given
			String secondPoly;						//the second polynomial given
		
			if (userChoice == 1) {
				System.out.print("First Polynomial: ");
				firstPoly = scnr.next();
				System.out.print("Second Polynomial: ");
				secondPoly = scnr.next();
			}
			else if (userChoice == 2) {
				System.out.print("still have to figure this out");
			}
			else if (userChoice == 3) {
				System.out.println("Thank you for using the Polynomial Calculator. Have a great day!");
				systemRunning = false;
			}
			else {
				System.out.println("Please pick one of the Menu Options. You'll be redirected.\n ");
			}
		}
		
	
		
		
		//need more code :)
		
		// Input string to be changed later when connected to menu options
		String input = "-X+5+25X^-2-10";
		
		ArrayList<Term> terms = new ArrayList<>();
		
		// Split string into an array of terms
		input = input.replace("-", "+-");
		String arr[] = input.split("\\+");
		
		// Create new ArrayList of terms
		ArrayList<String> poly = new ArrayList<>();
		for (int i = 0; i < arr.length; i++) {
			if (arr[i] != "") {
				poly.add(arr[i]);
			}
		}
		
		// If any element is empty remove it
		for (int i = 0; i < poly.size(); i++) {
			if (poly.get(i).isEmpty()) {
				poly.remove(i);
			}
		}
		System.out.println(poly.toString());
	
		
		
		int constant = 0;
		int coefficient = 0;
		int exponent = 0;
		for (int i = 0; i < poly.size(); i++) {
			if (poly.get(i).contains("X") && poly.get(i).contains("^")) {
				if (poly.get(i).charAt(0) == 'X') {
					coefficient = 1;
				} else if (poly.get(i).charAt(0) == '-' && poly.get(i).charAt(1) == 'X') {
					coefficient = -1;
				} else {
					coefficient = Integer.parseInt(poly.get(i).substring(0, poly.get(i).length() - 2));
				}
				exponent = Integer.parseInt(poly.get(i + 1));
				i++;
				Term term = new Term(coefficient, exponent);
				terms.add(term);
			} else if (poly.get(i).contains("X") && !poly.get(i).contains("^")) {
				if (poly.get(i).charAt(0) == 'X') {
					coefficient = 1;
				} else if (poly.get(i).charAt(0) == '-' && poly.get(i).charAt(1) == 'X') {
					coefficient = -1;
				} else {
					coefficient = Integer.parseInt(poly.get(i).substring(0, poly.get(i).length() - 1));
				}
				Term term = new Term(coefficient, 1);
				terms.add(term);
			} else if (!poly.get(i).contains("X")) {
				constant = Integer.parseInt(poly.get(i));
				Term term = new Term(constant, 0);
				terms.add(term);
			} 
		}
		
		// Output the ArrayList of terms 
		for (int i = 0; i < terms.size(); i++) {
			System.out.print(terms.get(i).toString());
		}

		
	}
}
